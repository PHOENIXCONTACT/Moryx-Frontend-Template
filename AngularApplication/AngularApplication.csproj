<Project Sdk="Microsoft.NET.Sdk.Razor" InitialTargets="BuildUI">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <Nullable>enable</Nullable>
    <AddRazorSupportForMvc>true</AddRazorSupportForMvc>
  </PropertyGroup>

  <ItemGroup>
    <FrameworkReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>

  <Target Name="BuildUI" Condition="('$(Configuration)'!='Debug' Or !Exists('wwwroot\main.js')) And ('$(NoBuild)' != 'true') ">
    <Exec WorkingDirectory="./" Command="npm install" />
    <Exec WorkingDirectory="./" Command="ng build --delete-output-path --configuration production --progress false" />
  </Target>


</Project>
